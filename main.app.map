{"version":3,"file":"main.app","sources":["resources/assets/js/main.js"],"sourcesContent":["\"use strict\";\r\n\r\nwindow.addCss = function($filename){\r\n    var head  = document.getElementsByTagName('head')[0];\r\n    var link  = document.createElement('link');\r\n    link.rel = 'stylesheet';\r\n    link.type = 'text/css';\r\n    link.href = '/css/'+$filename;\r\n    link.media = 'all';\r\n    head.appendChild(link);\r\n};\r\n\r\nfunction setCookie(cname, cvalue, exdays) {\r\n    var d = new Date();\r\n    d.setTime(d.getTime() + (exdays*24*60*60*1000));\r\n    var expires = \"expires=\"+d.toUTCString();\r\n    document.cookie = cname + \"=\" + cvalue + \"; \" + expires + \";PATH=/\";\r\n}\r\nfunction getCookie(cname) {\r\n    var name = cname + \"=\";\r\n    var ca = document.cookie.split(';');\r\n    for(var i = 0; i < ca.length; i++) {\r\n        var c = ca[i];\r\n        while (c.charAt(0) == ' ') {\r\n            c = c.substring(1);\r\n        }\r\n        if (c.indexOf(name) == 0) {\r\n            return c.substring(name.length, c.length);\r\n        }\r\n    }\r\n    return \"\";\r\n}\r\n$(function() {\r\n    function TemplateButton(){\r\n        if(getCookie('template')!='simple'){\r\n            /**\r\n             * Входим в режим сайта для слабовидящих\r\n             * Проверяем что сейчас нормальная версия сайта\r\n             */\r\n            addCss('template_simple.css');\r\n            $('#simpletemplate .text').html('Обычная версия сайта');\r\n            setCookie('template','simple',7);\r\n        }\r\n        else{\r\n            $(\"link[href='/css/template_simple.css']\").remove();\r\n            $('#simpletemplate .text').html('Версия для слабовидящих');\r\n            setCookie('template','normal',7);\r\n        }\r\n    }\r\n    function resetFontButtons(){\r\n        $('.rightside abbr').removeClass('active');\r\n    }\r\n    function removeFontSize(){\r\n        $(\"link[href='/css/template_fontplus.css']\").remove();\r\n        $(\"link[href='/css/template_fontminus.css']\").remove();\r\n    }\r\n    function bindFontButtons(){\r\n        $('.fontplus').click(FontPlus);\r\n        $('.fontminus').click(FontMinus);\r\n        $('.fontnormal').click(FontNormal);\r\n    }\r\n    function FontPlus(){\r\n        bindFontButtons();\r\n        resetFontButtons();\r\n        removeFontSize();\r\n        addCss('template_fontplus.css');\r\n        setCookie('template_fontsize','plus',7);\r\n        $(this).addClass(\"active\");\r\n        $(this).unbind();\r\n    }\r\n    function FontNormal(){\r\n        bindFontButtons();\r\n        resetFontButtons();\r\n        removeFontSize();\r\n        setCookie('template_fontsize','normal',7);\r\n        $(this).addClass(\"active\");\r\n        $(this).unbind();\r\n    }\r\n    function FontMinus(){\r\n        bindFontButtons();\r\n        resetFontButtons();\r\n        removeFontSize();\r\n        setCookie('template_fontsize','minus',7);\r\n        addCss('template_fontminus.css');\r\n        $(this).addClass(\"active\");\r\n        $(this).unbind();\r\n    }\r\n\r\n    bindFontButtons();\r\n    $('#simpletemplate').click(TemplateButton);\r\n\r\n\r\n    if ( ($(window).height() + 100) < $(document).height() ) {\r\n        $('#top-link-block').removeClass('hidden').affix({\r\n            // how far to scroll down before link \"slides\" into view\r\n            offset: {top:100}\r\n        });\r\n    }\r\n    \r\n    var mapdiv = document.getElementById('map');\r\n    function initialize() {\r\n            $(mapdiv).height(400);\r\n            var map = new google.maps.Map(mapdiv, {\r\n                center: {lat: 46.3260, lng: 39.3958},\r\n                zoom: 16,\r\n                mapTypeId: google.maps.MapTypeId.HYBRID\r\n            });\r\n            var image = {\r\n                url: '/img/marker_s.png',\r\n                size: new google.maps.Size(42, 42),\r\n                // The origin for this image is (0, 0).\r\n                origin: new google.maps.Point(0, 0),\r\n                // The anchor for this image is the base of the flagpole at (0, 32).\r\n                anchor: new google.maps.Point(0, 42)\r\n            };\r\n\r\n            var marker = new google.maps.Marker({\r\n                position: {lat: 46.32642023, lng: 39.39567581},\r\n                map: map,\r\n                title: 'ДХШ Ленинградская',\r\n            });\r\n        }\r\n    if (mapdiv)\r\n        google.maps.event.addDomListener(window, 'load', initialize);\r\n\r\n    if(getCookie('template')=='simple'){\r\n        addCss('template_simple.css');\r\n        $('#simpletemplate .text').html('Обычная версия сайта');\r\n    }\r\n\r\n    var fontsize = getCookie('template_fontsize');\r\n    if(fontsize!=\"\"){\r\n        $('.font'+fontsize).click();\r\n    }else\r\n        $('.fontnormal').click();\r\n});"],"names":[],"mappings":"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","preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjpudWxsLCJzb3VyY2VzIjpbIkY6L1Byb2dyYW0gRmlsZXMgKHg4NikvQW1wcHMvd3d3L2R4cy9yZXNvdXJjZXMvYXNzZXRzL2pzL21haW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG53aW5kb3cuYWRkQ3NzID0gZnVuY3Rpb24oJGZpbGVuYW1lKXtcclxuICAgIHZhciBoZWFkICA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF07XHJcbiAgICB2YXIgbGluayAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaW5rJyk7XHJcbiAgICBsaW5rLnJlbCA9ICdzdHlsZXNoZWV0JztcclxuICAgIGxpbmsudHlwZSA9ICd0ZXh0L2Nzcyc7XHJcbiAgICBsaW5rLmhyZWYgPSAnL2Nzcy8nKyRmaWxlbmFtZTtcclxuICAgIGxpbmsubWVkaWEgPSAnYWxsJztcclxuICAgIGhlYWQuYXBwZW5kQ2hpbGQobGluayk7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBzZXRDb29raWUoY25hbWUsIGN2YWx1ZSwgZXhkYXlzKSB7XHJcbiAgICB2YXIgZCA9IG5ldyBEYXRlKCk7XHJcbiAgICBkLnNldFRpbWUoZC5nZXRUaW1lKCkgKyAoZXhkYXlzKjI0KjYwKjYwKjEwMDApKTtcclxuICAgIHZhciBleHBpcmVzID0gXCJleHBpcmVzPVwiK2QudG9VVENTdHJpbmcoKTtcclxuICAgIGRvY3VtZW50LmNvb2tpZSA9IGNuYW1lICsgXCI9XCIgKyBjdmFsdWUgKyBcIjsgXCIgKyBleHBpcmVzICsgXCI7UEFUSD0vXCI7XHJcbn1cclxuZnVuY3Rpb24gZ2V0Q29va2llKGNuYW1lKSB7XHJcbiAgICB2YXIgbmFtZSA9IGNuYW1lICsgXCI9XCI7XHJcbiAgICB2YXIgY2EgPSBkb2N1bWVudC5jb29raWUuc3BsaXQoJzsnKTtcclxuICAgIGZvcih2YXIgaSA9IDA7IGkgPCBjYS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHZhciBjID0gY2FbaV07XHJcbiAgICAgICAgd2hpbGUgKGMuY2hhckF0KDApID09ICcgJykge1xyXG4gICAgICAgICAgICBjID0gYy5zdWJzdHJpbmcoMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjLmluZGV4T2YobmFtZSkgPT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gYy5zdWJzdHJpbmcobmFtZS5sZW5ndGgsIGMubGVuZ3RoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gXCJcIjtcclxufVxyXG4kKGZ1bmN0aW9uKCkge1xyXG4gICAgZnVuY3Rpb24gVGVtcGxhdGVCdXR0b24oKXtcclxuICAgICAgICBpZihnZXRDb29raWUoJ3RlbXBsYXRlJykhPSdzaW1wbGUnKXtcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqINCS0YXQvtC00LjQvCDQsiDRgNC10LbQuNC8INGB0LDQudGC0LAg0LTQu9GPINGB0LvQsNCx0L7QstC40LTRj9GJ0LjRhVxyXG4gICAgICAgICAgICAgKiDQn9GA0L7QstC10YDRj9C10Lwg0YfRgtC+INGB0LXQudGH0LDRgSDQvdC+0YDQvNCw0LvRjNC90LDRjyDQstC10YDRgdC40Y8g0YHQsNC50YLQsFxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgYWRkQ3NzKCd0ZW1wbGF0ZV9zaW1wbGUuY3NzJyk7XHJcbiAgICAgICAgICAgICQoJyNzaW1wbGV0ZW1wbGF0ZSAudGV4dCcpLmh0bWwoJ9Ce0LHRi9GH0L3QsNGPINCy0LXRgNGB0LjRjyDRgdCw0LnRgtCwJyk7XHJcbiAgICAgICAgICAgIHNldENvb2tpZSgndGVtcGxhdGUnLCdzaW1wbGUnLDcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAkKFwibGlua1tocmVmPScvY3NzL3RlbXBsYXRlX3NpbXBsZS5jc3MnXVwiKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgJCgnI3NpbXBsZXRlbXBsYXRlIC50ZXh0JykuaHRtbCgn0JLQtdGA0YHQuNGPINC00LvRjyDRgdC70LDQsdC+0LLQuNC00Y/RidC40YUnKTtcclxuICAgICAgICAgICAgc2V0Q29va2llKCd0ZW1wbGF0ZScsJ25vcm1hbCcsNyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gcmVzZXRGb250QnV0dG9ucygpe1xyXG4gICAgICAgICQoJy5yaWdodHNpZGUgYWJicicpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHJlbW92ZUZvbnRTaXplKCl7XHJcbiAgICAgICAgJChcImxpbmtbaHJlZj0nL2Nzcy90ZW1wbGF0ZV9mb250cGx1cy5jc3MnXVwiKS5yZW1vdmUoKTtcclxuICAgICAgICAkKFwibGlua1tocmVmPScvY3NzL3RlbXBsYXRlX2ZvbnRtaW51cy5jc3MnXVwiKS5yZW1vdmUoKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGJpbmRGb250QnV0dG9ucygpe1xyXG4gICAgICAgICQoJy5mb250cGx1cycpLmNsaWNrKEZvbnRQbHVzKTtcclxuICAgICAgICAkKCcuZm9udG1pbnVzJykuY2xpY2soRm9udE1pbnVzKTtcclxuICAgICAgICAkKCcuZm9udG5vcm1hbCcpLmNsaWNrKEZvbnROb3JtYWwpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gRm9udFBsdXMoKXtcclxuICAgICAgICBiaW5kRm9udEJ1dHRvbnMoKTtcclxuICAgICAgICByZXNldEZvbnRCdXR0b25zKCk7XHJcbiAgICAgICAgcmVtb3ZlRm9udFNpemUoKTtcclxuICAgICAgICBhZGRDc3MoJ3RlbXBsYXRlX2ZvbnRwbHVzLmNzcycpO1xyXG4gICAgICAgIHNldENvb2tpZSgndGVtcGxhdGVfZm9udHNpemUnLCdwbHVzJyw3KTtcclxuICAgICAgICAkKHRoaXMpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICQodGhpcykudW5iaW5kKCk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBGb250Tm9ybWFsKCl7XHJcbiAgICAgICAgYmluZEZvbnRCdXR0b25zKCk7XHJcbiAgICAgICAgcmVzZXRGb250QnV0dG9ucygpO1xyXG4gICAgICAgIHJlbW92ZUZvbnRTaXplKCk7XHJcbiAgICAgICAgc2V0Q29va2llKCd0ZW1wbGF0ZV9mb250c2l6ZScsJ25vcm1hbCcsNyk7XHJcbiAgICAgICAgJCh0aGlzKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAkKHRoaXMpLnVuYmluZCgpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gRm9udE1pbnVzKCl7XHJcbiAgICAgICAgYmluZEZvbnRCdXR0b25zKCk7XHJcbiAgICAgICAgcmVzZXRGb250QnV0dG9ucygpO1xyXG4gICAgICAgIHJlbW92ZUZvbnRTaXplKCk7XHJcbiAgICAgICAgc2V0Q29va2llKCd0ZW1wbGF0ZV9mb250c2l6ZScsJ21pbnVzJyw3KTtcclxuICAgICAgICBhZGRDc3MoJ3RlbXBsYXRlX2ZvbnRtaW51cy5jc3MnKTtcclxuICAgICAgICAkKHRoaXMpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICQodGhpcykudW5iaW5kKCk7XHJcbiAgICB9XHJcblxyXG4gICAgYmluZEZvbnRCdXR0b25zKCk7XHJcbiAgICAkKCcjc2ltcGxldGVtcGxhdGUnKS5jbGljayhUZW1wbGF0ZUJ1dHRvbik7XHJcblxyXG5cclxuICAgIGlmICggKCQod2luZG93KS5oZWlnaHQoKSArIDEwMCkgPCAkKGRvY3VtZW50KS5oZWlnaHQoKSApIHtcclxuICAgICAgICAkKCcjdG9wLWxpbmstYmxvY2snKS5yZW1vdmVDbGFzcygnaGlkZGVuJykuYWZmaXgoe1xyXG4gICAgICAgICAgICAvLyBob3cgZmFyIHRvIHNjcm9sbCBkb3duIGJlZm9yZSBsaW5rIFwic2xpZGVzXCIgaW50byB2aWV3XHJcbiAgICAgICAgICAgIG9mZnNldDoge3RvcDoxMDB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHZhciBtYXBkaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFwJyk7XHJcbiAgICBmdW5jdGlvbiBpbml0aWFsaXplKCkge1xyXG4gICAgICAgICAgICAkKG1hcGRpdikuaGVpZ2h0KDQwMCk7XHJcbiAgICAgICAgICAgIHZhciBtYXAgPSBuZXcgZ29vZ2xlLm1hcHMuTWFwKG1hcGRpdiwge1xyXG4gICAgICAgICAgICAgICAgY2VudGVyOiB7bGF0OiA0Ni4zMjYwLCBsbmc6IDM5LjM5NTh9LFxyXG4gICAgICAgICAgICAgICAgem9vbTogMTYsXHJcbiAgICAgICAgICAgICAgICBtYXBUeXBlSWQ6IGdvb2dsZS5tYXBzLk1hcFR5cGVJZC5IWUJSSURcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHZhciBpbWFnZSA9IHtcclxuICAgICAgICAgICAgICAgIHVybDogJy9pbWcvbWFya2VyX3MucG5nJyxcclxuICAgICAgICAgICAgICAgIHNpemU6IG5ldyBnb29nbGUubWFwcy5TaXplKDQyLCA0MiksXHJcbiAgICAgICAgICAgICAgICAvLyBUaGUgb3JpZ2luIGZvciB0aGlzIGltYWdlIGlzICgwLCAwKS5cclxuICAgICAgICAgICAgICAgIG9yaWdpbjogbmV3IGdvb2dsZS5tYXBzLlBvaW50KDAsIDApLFxyXG4gICAgICAgICAgICAgICAgLy8gVGhlIGFuY2hvciBmb3IgdGhpcyBpbWFnZSBpcyB0aGUgYmFzZSBvZiB0aGUgZmxhZ3BvbGUgYXQgKDAsIDMyKS5cclxuICAgICAgICAgICAgICAgIGFuY2hvcjogbmV3IGdvb2dsZS5tYXBzLlBvaW50KDAsIDQyKVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdmFyIG1hcmtlciA9IG5ldyBnb29nbGUubWFwcy5NYXJrZXIoe1xyXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IHtsYXQ6IDQ2LjMyNjQyMDIzLCBsbmc6IDM5LjM5NTY3NTgxfSxcclxuICAgICAgICAgICAgICAgIG1hcDogbWFwLFxyXG4gICAgICAgICAgICAgICAgdGl0bGU6ICfQlNCl0Kgg0JvQtdC90LjQvdCz0YDQsNC00YHQutCw0Y8nLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICBpZiAobWFwZGl2KVxyXG4gICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LmFkZERvbUxpc3RlbmVyKHdpbmRvdywgJ2xvYWQnLCBpbml0aWFsaXplKTtcclxuXHJcbiAgICBpZihnZXRDb29raWUoJ3RlbXBsYXRlJyk9PSdzaW1wbGUnKXtcclxuICAgICAgICBhZGRDc3MoJ3RlbXBsYXRlX3NpbXBsZS5jc3MnKTtcclxuICAgICAgICAkKCcjc2ltcGxldGVtcGxhdGUgLnRleHQnKS5odG1sKCfQntCx0YvRh9C90LDRjyDQstC10YDRgdC40Y8g0YHQsNC50YLQsCcpO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBmb250c2l6ZSA9IGdldENvb2tpZSgndGVtcGxhdGVfZm9udHNpemUnKTtcclxuICAgIGlmKGZvbnRzaXplIT1cIlwiKXtcclxuICAgICAgICAkKCcuZm9udCcrZm9udHNpemUpLmNsaWNrKCk7XHJcbiAgICB9ZWxzZVxyXG4gICAgICAgICQoJy5mb250bm9ybWFsJykuY2xpY2soKTtcclxufSk7Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUVBLE1BQU0sQ0FBQyxNQUFNLEdBQUcsU0FBUyxTQUFTLENBQUM7SUFDL0IsSUFBSSxJQUFJLElBQUksUUFBUSxDQUFDLG9CQUFvQixDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3JELElBQUksSUFBSSxJQUFJLFFBQVEsQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDM0MsSUFBSSxDQUFDLEdBQUcsR0FBRyxZQUFZLENBQUM7SUFDeEIsSUFBSSxDQUFDLElBQUksR0FBRyxVQUFVLENBQUM7SUFDdkIsSUFBSSxDQUFDLElBQUksR0FBRyxPQUFPLENBQUMsU0FBUyxDQUFDO0lBQzlCLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO0lBQ25CLElBQUksQ0FBQyxX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"}